<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>

<body>

</body>

</html>
<script>
    var obj = {
        test1: 'v1',
        test2: 'v2',
        test3: 'v3',
        test4: {
            t1: 'ss',
            t2: 'aa',
            t3: 'cc',
            t4: 'dd'
        }
    };

    let pi = ""; // 当前对象的属性名字

    function f(obj) {
        for (var i in obj) {
            // console.log(obj[i])
            if (typeof obj[i] === "object") {
                // console.log(i) //test4 属性名
                pi = i
                f(obj[i]); //递归调用
            } else if (pi) {
                console.log(`第一种方法  ， ${pi}.${i} = ${obj[i]}`)
            } else {
                console.log(`第一种方法  ，  ${i}=${obj[i]}`) // test1=v1  test2=v2 test3=v3
            }
        }
    }
    f(obj)

    console.log('-----------------------------------------------------------------')
    var obj_text = {
        test1: 'v1',
        test2: 'v2',
        test3: 'v3',
        test4: {
            t1: 'ss',
            t2: 'aa',
            t3: 'cc',
            t4: 'dd'
        }
    };

    function fun(obj_text, perfix) {
        perfix = perfix ? perfix + "." : ""
        for (let j in obj_text) {
            if (typeof obj_text[j] == "object") {
                fun(obj_text[j], j) //这是关键
            } else {
                console.log(`第二种方法  ， ${perfix}${j} = ${obj_text[j]}`)
            }
        }
    }
    fun(obj_text)
</script>