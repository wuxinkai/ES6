<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Document</title>
  </head>

  <body></body>
</html>
<script>
  //forEach 循环的特点是会自动省略为空的数组元素，相当于直接给我们筛空了。当是有时候也会给我们帮倒忙。
  let arr = ["forEach", "循环", "", 666];
  arr.forEach((val, index) => console.log("forEach", index, val)); //无法和跳出当前循环， 无法结束循环

  //filter ，他其实也有循环的功能，这里我们在复习一遍  数据量大消耗性能 查出来还会继续查询到低
  console.log(`---------------------------------------------------`);
  arr.filter((x) => console.log(`filter`, x));

  //some
  console.log(`----------------------------------------------------`);
  arr.some((x) => console.log(`some`, x));

  //map
  console.log(`----------------------------------------------------`);
  console.log(
    `map`,
    arr.map((x) => x)
  );

  console.log(`-------------------------------------------------`);
  //for…in主要是为遍历对象而设计的，不适用于遍历数组。
  for (var i in arr) {
    // 0 1 2 3  索引
    console.log(`for in`, i);
  }
  console.log(`-------------------------------------------------`);

  //它可以与break、continue和return配合使用 可终止循环
  for (var i of arr) {
    //
    if (i == "循环") {
      // break //结束当前循环
      // continue //结束本次循环
      // return i  //报错
    }
    console.log(`forof`, i);
  }

  console.log(`-------------------------------------------------`);
  //for循环
  for (let i = 0; i < arr.length; i++) {
    // if (arr[i] == "循环") {
    //   break; //结束当前循环
    // }
    // if (arr[i] == "循环") {
    //   continue; //结束本次循环
    // }

    console.log(`for`, arr[i]);
  }

  console.log(`-------------------------------------------------`);
  // 能否继续循环取决于返回值是否为true， 如果是true才继续向下便利

  let selectAll = arr.every((item) => {
    console.log(`every 循环所有`, item);
    // if(item ==""){
    //   return false //下面得代码就不会执行了
    // }
    // return item; //可以根据当前数据得返回类型，来判读是否向下执行
    return true;
  });
  //可以用来判断是否都是符合我们需要得数据 返回true和false
  console.log("every 是否全部符合", selectAll);

  //跳过等于空继续执行
  let selectAll2 = arr.every((item) => {
    if (item == "") {
    } else {
      console.log(`every 跳过为空得循环`, item);
    }
    return true;
  });

  console.log(`-------------------------------------------------`);
  var x = "",
    i = 0;
  while (i < arr.length) {
    console.log(`while `, arr[i]);
    i++;
  }

  console.log(
    `--------------------for of不能循环json,for in可以-----------------------------`
  );

  var json = {
    a: "apple",
    b: "banan",
    c: "pear",
    d: "orange",
  };

  for (var i in json) {
    console.log(i + "=" + json[i]);
  }
  //不能循环json
  // for (var name of json) {
  //   console.log(name);
  // }

  // es6做删除
  let arrData = [
    {
      id: 1,
      value: "1",
    },
    {
      id: 2,
      value: "2",
    },
    {
      id: 3,
      value: "3",
    },
    {
      id: 4,
      value: "5",
    },
    {
      id: 5,
      value: "6",
    },
    {
      id: 6,
      value: "7",
    },
  ];
  // filter 过滤做删除  循环多过滤一层， 这样就不用 双循环进行删除了
  let delrArr = arrData.filter(({ id }) => id !== 4);

  console.log("filter做删除  4被删除", delrArr);

  //splice 和 findIndex
  let spliceDel = arrData.splice(
    arrData.findIndex((item) => item.id === 2),
    1
  );
  console.log("splice和findIndex id==2 被删除 ", arrData);
</script>
