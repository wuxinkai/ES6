<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Document</title>
  </head>

  <body></body>
</html>
<script>
  //b=3 给默认值和简写方式
  // 箭头函数特点
  // 小括号 没有参数不能省略， 有多个参数不能省略，有一个参数可以省略
  let add1 = (item) => {
    console.log(`只有一个参数可以省略`, item);
  };
  add1("小强");

  // 花括号 返回值是一个表达式 花括号可以省略，如果返回是对象必须用花括号 ，返回是其他值也需要用花括号
  let add2 = (a, b = 3) => a + b;
  console.log(`给默认值和简写方式，`, add2(1, 2));

  // 返回对象需要加中括号
  let add3 = (a, b = 3) => ({
    a,
    b,
  });
  console.log(`对象名相同可以不写,对象加中括号`, add3(5, 5));

  //保持y轴数据不变  传undefined
  function f(x = 1, y = 2, z = 3) {
    return x + y + z;
  }
  console.log(`y保持默认值`, f(3, undefined, 4));

  //apply可以将数组转成参数
  function sub(a = 1, b = 2, c = 3) {
    return a + b + c;
  }
  let dataAll = [4, 5, 5];
  // console.log(`插入多个函数`,sub(dataAll[0],dataAll[1],dataAll[2],));
  console.log(`插入多个函数`, sub.apply(this, dataAll)); //se5做法
  console.log(`es6传参做法`, sub(...dataAll)); //se6做法

  //this是看他的上一级，
  //箭头函数不是使用构造函数
  // 箭头函数都是严格模式
  // 箭头函数不能使用 arguments
  add2 = (a, b = 1) => {
    return a + b;
  };
  console.log(add2(1, 6));

  //主动抛出错误
  function add(a) {
    if (a == 0) {
      // throw new Error('This is error','手动抛出错误')
    }
    return a;
  }
  console.log(add(0));
  console.log(`获取参数个数`, add.length);

  //对象的函数解构
  let json = {
    a: "从新赋值1",
    b: "从新赋值2",
  };
  let fun = ({ a, b = "默认值" }) => {
    console.log(`对象给箭头`, a, b);
  };
  fun(json);

  //数组给箭头函数默认值
  let arr2 = ["箭头", "数默", "默认值"];
  let fun2 = (a, b, c) => {
    console.log(`数组给箭头`, a, b, c);
  };
  fun2(...arr2);

  //
  let str = '["name":"xiaoming","age":"xiaoming"]';
  let arrs = new Function("")();

  // 箭头函数的指向
  let test = {
    name: "test",
    say: function () {
      //普通函数
      console.log("this指向", this.name);
    },
    say2: () => {
      // this.name 都是空得
      console.log("箭头this指向", this.name ,this);
    },
  };
  test.say();
  test.say2();
</script>
